<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2353Devrecords</title>
    <link rel="stylesheet" href="/style/style.css" />
    <script src="/src/main.js"></script>
  </head>
  <body>
    <a name="top"></a>
    <header>
      <div class="top-box">
        <div class="top-left-box">
          <nav>
            <a href="/index.html">Home</a>
          </nav>
        </div>
        <div class="top-middle-box">
          <h1>TIL 2023</h1>
        </div>
        <div class="top-right-box"></div>
      </div>
      <hr class="line" />
    </header>
    <main>
      <div class="month-link">
        <a href="/pages/TIL2305.html">2305</a>
        <a href="/pages/TIL2306.html">2306</a>
      </div>
      <div class="middle-content">
        <div class="date-link">
          <a href="#0601">0601</a>
          <a href="#0602">0602</a>
          <a href="#0603">0603</a>
          <a href="#0604">0604</a>
          <a href="#0605">0605</a>
          <a href="#0606">0606</a>
          <a href="#0607">0607</a>
          <a href="#0608">0608</a>
          <a href="#0609">0609</a>
          <a href="#0610">0610</a>
          <a href="#0611">0611</a>
          <a href="#0612">0612</a>
          <a href="#0613">0613</a>
          <a href="#0614">0614</a>
          <a href="#0615">0615</a>
          <a href="#0616">0616</a>
          <a href="#0617">0617</a>
          <a href="#0618">0618</a>
          <a href="#0619">0619</a>
        </div>
        <div class="content">
          <h1><a href="#top" name="0601">0601</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>camelCase</li>
            <li>PascalCase</li>
            <li>kebab-case</li>
            <li>snake_case</li>
            <h3 class="unknown">error</h3>
            is not a function
            <li></li>

            <div class="code-box">
              <pre>
    <span class="unknown">// 알고리즘</span>
    // 가장 큰 수 반환 하려다 오늘 배운 정렬 만들 뻔한 함수

    let arr = [3, 5, 6, 1, 2, 4, 7, 8]

    function max(arr) {
        // 두 숫자끼리 비교하기 위해 배열 길이 -1 만큼 설정
        for (let i = 0; i &lt; arr.length -1; i++) {
            // j를 i보다 1 크게 만들어 두 숫자를 비교
            for (let j = 1; j &lt; arr.length; j++) {
                // 비교하는 앞 숫자가 더 크면 왼쪽으로 한 칸 이동
                if (arr[i] > arr[j]) {
                    let temp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = temp;
                }
            }
            console.log(arr)
        }
        return arr;
    }

    console.log(max(arr))

    결과 : [1, 7, 6, 5, 4, 3, 2, 8]
    // 첫 숫자와 마지막 숫자가 반대로 나오고 있다
                        </pre>
            </div>
          </div>
          <h1><a href="#top" name="0602">0602</a></h1>
          <div class="cnts">
            <h3>vs code</h3>
            <li>console.clear() 위에 있는 console.log 실행 안 하기</li>
            <li>console.dir() 속성 출력</li>
            <li>함수 ctrl + 클릭: 호출 - 정의 빠른 이동</li>
          </div>
          <h1><a href="#top" name="0603">0603</a></h1>
          <div class="cnts">
            <h3>error</h3>
            git
            <li>
              Failed to load resource: the server responded with a status of 404
              ()
            </li>
            <li>
              Error with Permissions-Policy header: Origin trial controlled
              feature not enabled: 'interest-cohort'.
            </li>
            <li>깃허브 페이지 리포지토리 이름을 바꿨다</li>
            <li>
              주소 앞에 . 을 붙이자 . 을 붙인 부분만 괜찮아졌다
              (./style/style.css)
            </li>
            <li>
              다른 주소에도 . 을 붙여봤는데 . 이 있어도 주소가 제대로 안 떠서
              혼란스럽다
            </li>
            <li>
              원격 저장소에 잘 올라갔지만 페이지에서 js, css, html 등 주소를
              찾지 못 한다
            </li>
            <li>페이지 리포지토리 이름을 바꾸면 페이지를 인식하지 못 한다</li>
            <li>리포지토리 이름을 바꾸는 방법을 찾아봐야겠다</li>

            <h3 class="unknown">git 파일 인식 문제</h3>
            <li>파일을 삭제하고 새로 만드는 등의 수정사항을 push했다</li>
            <li>특정 파일이 push 해도 원격 저장소에 반영되지 않는다</li>

            <li></li>
            <h3>git</h3>
            <li>git rm --cached <파일> 원격 저장소 파일 삭제</li>
            <li>git rm --cached -r <디렉토리> 원격 저장소 디렉토리 삭제</li>
            <li>git push를 강제로 하면 git commit 기록이 다 날아갈 수 있다</li>
          </div>
          <h1><a href="#top" name="0604">0604</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>
              매개변수는 undefined 형식이며 상황에 따라 선언을 하지 않아도 된다
            </li>
            <br />
            모듈 만들기
            <li>html script에 defer, type="module" 추가</li>
            <li>defer: 지연 실행 (html 모두 로딩 후 스크립트 실행)</li>
            <li>기능.js 파일에서 export (보내기)</li>
            <li>export 함수</li>
            <li>main.js 파일에서 import (받기)</li>
            <li>import { 함수1, 함수2 } from "./주소"</li>
            <br />
            <li>
              export 할 함수가 다른 파일의 함수와 데이터를 서로 주고 받으면
              코드가 복잡해지는 것 같다
            </li>
          </div>
          <h1><a href="#top" name="0605">0605</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>localStorage 웹 브라우저에 로컬 데이터 저장하고 불러오기</li>
          </div>
          <h1><a href="#top" name="0606">0606</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            비동기 작업을 동기적으로 표현하는 방법
            <li>콜백지옥</li>
            <li>기명함수로 변환</li>
            <li>Promise</li>
            <li>Promise + 클로저</li>
            <li>Generator</li>
            <li>Promise + Async/await</li>
          </div>
          <h1><a href="#top" name="0607">0607</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>함수 선언할 때 매개변수, 호출할 때 인자</li>
            <li>JSON.stringify() 객체를 문자열로 변환</li>
            <li>JSON.parse() 문자열을 객체로 변환</li>
            <li>
              new Date().getTime(): Date 객체를 생성자로 호출, getTime 메서드
              실행
            </li>
            <li>getTime(): 현재 시간을 밀리초 단위의 숫자 값으로 반환</li>
            <li>
              UUID: 네트워크상에서 고유성을 보장하는 ID를 만들기 위한 표준 규약
            </li>
            <li>JSON (JavaScript Object Notation)</li>
            <h3>git</h3>
            커밋 컨벤션
            <li>type</li>
            <li>body</li>
            <li>footer</li>
          </div>
          <h1><a href="#top" name="0608">0608</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>
              reduce (누산기, 현재값, 현재 인덱스, 배열) 하나의 결과값 반환
            </li>
          </div>
          <h1><a href="#top" name="0609">0609</a></h1>
          <div class="cnts">
            <h3>algorithm</h3>
            <div class="code-box">
              <pre>
    // 정수 배열의 평균값 구하기
    let members = [4, 15, 2, 7, 11]
    function solution(numbers) {
        return numbers.reduce((acc, cur) => acc + cur)/numbers.length
    }

    // 처음 써본 reduce
    // for 문을 쓰지 않아서 편하지만
    // 너무 많은 생각을 생략한 것 같다
                            </pre
              >
            </div>
          </div>
          <h1><a href="#top" name="0610">0610</a></h1>
          <div class="cnts">
            <h3>vscode</h3>
            <li>ctrl + shift + f 프로젝트에서 찾기</li>
          </div>
          <h1><a href="#top" name="0611">0611</a></h1>
          <div class="cnts">
            <h3>javascript</h3>
            <li>구문 설탕: 읽고 쓰기 쉽게 만들어진 문법</li>
            <li>
              let result = a && b && 'c', 모든 값이 truthy 할 때 맨 뒤의 값
              변수에 할당
            </li>
            <li>
              let result = a || b || 'c', 가장 먼저 오는 truthy 한 값을 맨 뒤의
              변수에 할당
            </li>
          </div>
          <h1><a href="#top" name="0612">0612</a></h1>
          <div class="cnts">
            <h3>node.js</h3>
            <li>
              express.js: node.js로 서버를 빠르고 간편하게 만들 수 있는 웹
              프레임워크
            </li>
            <li>thunder client: 웹 서버 응답 확인하기</li>
            <li>routing: 클라이언트의 요청에 응답하는 방식</li>
            <li>middle ware: 웹 서버에서 요청을 받을 때 공통적인 처리</li>
            <div class="code-box">
              <pre>
    // app.js
    // express 라이브러리 가져오기
    const express = require('express');
    // 가져온 express 실행
    const app = express();
    const port = 3000;

    // get 메서드로 api 실행할 수 있게
    app.get('/', (req, res) => { // router (express의 기능)
    res.send('Hello World!');
    });

    // app 객체를 통해 서버를 열기
    app.listen(port, () => {
    console.log(port, '포트로 서버가 열렸어요!');
    });
                            </pre
              >
            </div>
            <div class="code-box">
              <pre>
    // 일반적인 라우터 구조
    router.method(path, handler);
                            </pre
              >
            </div>
            <div class="code-box">
              <pre>
    // ./routes/goods.js
    // 라우터 모듈화
    // 라우터 생성 후 app.js에 전역 미들웨어로 등록
    // express 라이브러리 받은 변수
    const express = require("express");
    // express 객체 안에 잇는 router 함수 실행, 결괏값 할당
    const router = express.Router();

    // localhost:3000/api/ GET
    router.get("/", (req, res) => {
        res.send("default url for goods.js GET Method");
    });

    // localhost:3000/api/about GET
    router.get("/about", (req, res) => {
        res.send("goods.js about PATH");
    });

    module.exports = router;
                            </pre
              >
            </div>
            module export
            <li>module.exports = var; / const var2 = require("./route");</li>
            <li>화살표 함수: 변수 함수가 가진 값 할당</li>
            <li>익명 함수: 익명 함수 할당</li>
            <li>module.exports = object: 객체의 값에 함수 들어감</li>
            <li>module.exports = function: 모듈 그 차제를 함수로 할당</li>
          </div>
          <h1><a href="#top" name="0613">0613</a></h1>
          <div class="cnts">
            <h3>error</h3>
            mongodb 실행 오류
            <li>mongodb shell 설치, 실행</li>
            mongodb 연결 오류
            <li>connect 하는 주소 변경 (localhost => 127.0.0.1)</li>
            <li>t3 에서도 주소 변경</li>
            <h3>node.js</h3>
            <li>
              studio 3t: mongodb를 gui로 데이터 관리하기 쉽게 보여주는 프로그램
            </li>
            <li>
              DNS (Domain Name System) 도메인을 실제 서버를 찾을 수 있도록
              변환해주는 시스템
            </li>
            <li>request 클라이언트에서 서버에 요청</li>
            <li>response 서버가 클라이언트에 응답</li>
            <h3>vscode</h3>
            <li>ctrl + k + w 창 모두 닫기</li>
            <span class="unknown"><h3>chmod</h3></span>
            <li>mac에서 되는 chmod가 윈도우에서 안 돼서 방법을 못 찾음</li>
          </div>
          <h1><a href="#top" name="0614">0614</a></h1>
          <div class="cnts">
            <h3>javascript 객관식 30문제 복습</h3>
            <li>
              bind 메서드는 함수의 컨텍스트를 변경, call 메서드는 함수의 인자를
              변경
            </li>
            <div class="code-box">
              <pre>
<span class="unknown">// bind 사용법 이해 필요</span>
const obj = {
  name: "John",
  greeting: function() {
    console.log(`Hello, ${this.name}!`);
  }
};

const obj2 = {
  name: "Alice"
};

obj.greeting.bind(obj2)();</pre>
            </div>
            <div class="code-box">
              <pre>
<span class="unknown">// 헷갈리는 promise</span>
const promise = new Promise((resolve, reject) => {
  setTimeout(() => {
    // 연산이 잘 되면 "Success!"를 반환
    resolve("Success!");
    // 2초 후에
  }, 2000);
});

// result는 매개변수, promise 끝나면(?) "Success!"를 할당?
promise.then((result) => {
  console.log(result);
});
            </pre>
            </div>
            <li>promise 객체의 catch 메서드는 promise가 거부되었을 때 호출</li>
            <li>async 함수 내에서 비동기적으로 실행되어야 하는 부분을 지정</li>
            <li>await 비동기 작업의 결과를 기다리는 역할</li>
            <li>
              코드의 환경 및 순서를 보장하기 위해 실행할 코드에 제공하는 환경
              정보들을 모아놓은 객체
            </li>
            <div class="code-box">
              <pre>
<span class="unknown">// 왜 innerFunction을 실행하지 않았는데 "Hello"가 출력될까?</span>
<span class="add">// outerFunction()을 실행한 값이 outerFunction의 return 값</span>
function outerFunction() {
  var outerVariable = "Hello";

  function innerFunction() {
    // innerFunction 함수가 outerFunction 함수의 변수 참조
    <span class="unknown">// 실행컨텍스트에 대한 건 잘 모르겠음</span>
    <span class="unknown">// outer에 이전 실행컨텍스트의 lexical environment 저장?</span>
  console.log(outerVariable);
    }

    return innerFunction; // outerFunction();
  }

// closure에 outerFunction() 실행한 값 할당
console.log(closure); // [Function: innerFunction]
var closure = outerFunction();

closure(); // innerFunction()
            </pre>
            </div>
            <div class="code-box">
              <pre>
// 함수를 실행한 값은 return 값
function a() {
  return 1;
}

console.log(a()); // 1
            </pre
              >
            </div>
            <div class="code-box">
              <pre>
// 함수 b에서 함수 a의 변수를 참조
function a() {
  let c = 2;
  function b() {
    console.log(c);
  }
  return b;
}

let d = a(); // b
d(); // 2
            </pre
              >
            </div>
          </div>
          <h1><a href="#top" name="0615">0615</a></h1>
          <div class="cnts">
            <h3>error</h3>
            node.js
            <li>get api로 carts 조회 시도하자 서버 중지</li>
            <li>TypeError: Cart.find is not a function</li>
            <li>cart.js에 cart schemas가 작성되지 않은 상태였다</li>
            mongodb
            <li>
              MongoServerError: E11000 duplicate key error collection:
              blog.posts index: name_1 dup key: { name: "시원한 콜라" }
            </li>
            <li>
              mongoose schemas에 작성한 unique: true 때문에 같은 이름으로
              생성하려고 하면 서버가 꺼짐
            </li>
            mongodb2
            <li>
              MongoServerError: E11000 duplicate key error collection:
              blog.posts index: goodsId_1 dup key: { goodsId: null }
            </li>
            <li>3T collection에서 indexes 삭제</li>
            javascript
            <div class="code-box">
              <pre>
const date = require("../util/date");
date = date.date();
            </pre
              >
            </div>
            <li>TypeError: Assignment to constant variable</li>
            <li>상수에 다른 값을 할당하려는 시도</li>
            <h3>javascript</h3>
            <li>폴더 안에 있는 js파일 실행: node ./폴더.파일.js</li>
          </div>
          <h1><a href="#top" name="0616">0616</a></h1>
          <div class="cnts">
            <h3>not an error</h3>
            <div class="code-box">
              <pre>
// 게시글 상세 조회
router.get("/posts/:_postsId", async (req, res) => { <span class="add">// s 한 글자 차이</span>
  const { _postId } = req.params;
  const posts = await Post.find();
  const data = posts
    <span class="add">// _id 값은 오브젝트라서 문자열로 변환 필요</span>
    .filter((post) => post._id.toString() === _postId)
    .map((post) => {
      return {
        postId: post._id,
        user: post.user,
        title: post.title,
        content: post.content,
        createdAt: post.createdAt,
      };
    });
  res.json({ data: data });
});
            </pre>
            </div>
            <h3>error</h3>
            Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are
            sent to the client
            <li>같은 요청에 대해 두 번 이상의 응답을 보내려고 할 때 발생</li>
            Post.update is not a function
            <li>
              updateOne을 쓰면 되는데 수정 사항이 많아 보여 임의로 update를 씀
            </li>
          </div>
          <h1><a href="#top" name="0617">0617</a></h1>
          <div class="cnts">
            <h3>error</h3>
            node.js
            <li>
              SyntaxError: Identifier 'postsRouter' has already been declared
            </li>
            <li>이미 선언된 상수</li>
            node.js2
            <li>ReferenceError: route is not defined</li>
            <li>router에서 r을 안 씀</li>
          </div>
          <h1><a href="#top" name="0618">0618</a></h1>
          <div class="cnts">
            <h3>algorithm</h3>
            <li></li>
          </div>
          <h1><a href="#top" name="0619">0619</a></h1>
          <div class="cnts"></div>
        </div>
      </div>
    </main>
    <footer></footer>
  </body>
</html>
